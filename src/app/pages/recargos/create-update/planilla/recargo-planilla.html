<list-head
    [columnDef]="columnDef"
    [botonera]="true">
</list-head>
<ng-container *ngFor="let itemAgente of recargo.planilla; let i=index">
    <list-item *ngFor="let item of itemAgente.items; let j=index"
        [item]="item"
        [actions]="[]"
        [botonera]="false">
        <plex-label
            class="wp-15" 
            titulo="{{ itemAgente.agente?.apellido }}, {{ itemAgente.agente?.nombre }}" subtitulo="Nro: {{ itemAgente.agente?.numero }}" 
            [tituloBold]="true">
        </plex-label>
        <div class="wp-12 mr-4">
            <plex-datetime
                type="date"
                name="fecha"
                [(ngModel)]="item.fecha"
                class="input-sm">
            </plex-datetime>
        </div>
        <plex-select
            class="wp-15 mr-4"
            [data]="turnoOpciones"
            [idField]="'_id'"
            name="turno"
            [(ngModel)]="item.turno"
            label=""
            placeholder="Seleccione...">
        </plex-select>
        <plex-select 
            class="wp-20 mr-4"
            [data]="justificacionOpciones"
            [idField]="'_id'"
            name="justificacion"
            [(ngModel)]="item.justificacion"
            label=""
            placeholder="Seleccione...">
        </plex-select>
        <plex-text 
            class="wp-15 mr-4"
            name="observaciones" 
            [(ngModel)]="item.observaciones"
            placeholder="">
        </plex-text>
        <plex-label class="wp-5" titulo="" [tituloBold]="false"></plex-label>
        <div class="item-column item-botonera">
            <div class="d-flex flex-row justify-content-end align-items-center"> 
                <plex-button
                    title="Agregar Agente"
                    type="info"
                    size="sm"
                    icon="mdi mdi-plus"
                    (click)="addItem(itemAgente, j)">
                </plex-button>
                <plex-button
                    title="Eliminar"
                    type="danger"
                    icon="mdi mdi-close"
                    size="sm"
                    (click)="deleteItem(itemAgente, j, i)">
                </plex-button>
            </div>
        </div>    
    </list-item>
    <list-item [actions]="[]" [botonera]="false">
        <div class="wp-77"></div>
        <plex-label class="wp-5" titulo="{{itemAgente.items.length }}" [tituloBold]="true"></plex-label>
    </list-item>
</ng-container>
