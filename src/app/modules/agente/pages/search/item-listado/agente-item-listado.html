<plex-list [striped]="true" [fullWidth]="true" *ngIf="agentes && agentes.length">
    <ng-container *ngFor="let agente of agentes; let i=index">
        <plex-item [layout]="layout">
            <app-agente-foto class="mt-2 mb-2"
                [agente]="agente">
            </app-agente-foto>
            <plex-label titulo="D.U {{agente.documento }}" [tituloBold]="false">
            </plex-label>
            <plex-label titulo="{{agente.nombre }} {{ agente.apellido }}">
            </plex-label>
            
            <plex-badge type="info">
                {{ agente.situacionLaboral? (agente.situacionLaboral.situacion | title:'nombre') : 'Sin Situacion'}}
            </plex-badge>
            <plex-badge [type]="agente.activo? 'success': 'danger'">
                    {{ agente.activo? 'Activo' : 'Baja' }}
            </plex-badge>
            <plex-button 
                type="info"
                size="sm"
                icon="mdi mdi-eye"
                (click)="seleccionarAgente(agente, i)">Ver
            </plex-button>
            <plex-button
                type="warning"
                size="sm"
                icon="mdi mdi-pencil"
                (click)="gotoAgente(agente)">Editar
            </plex-button>
            <plex-button
                type="success"
                size="sm"
                icon="clock"
                (click)="gotoAusenciasAgente(agente)">Editar
            </plex-button>
            
            <plex-dropdown
                icon="dots-vertical mdi-24px"
                [right]="true"
                [items]="accionesDropdownMenu[i]">
            </plex-dropdown>

        </plex-item>
    </ng-container>
</plex-list>

<jw-modal id="modal-baja-agente">
    <div *ngIf="agenteSeleccionado">
        <app-agente-baja 
            [agente]="agenteSeleccionado"
            (success)="onSuccessBaja($event)"
            (error)="onErrorBaja($event)"
            (cancel)="onCancelModal('modal-baja-agente')">
        </app-agente-baja>
    </div>
</jw-modal>

<jw-modal id="modal-reactivar-agente">
    <div *ngIf="agenteSeleccionado">
        <app-agente-reactivar 
            [agente]="agenteSeleccionado"
            (success)="onSuccessReactivar($event)"
            (error)="onErrorReactivar($event)"
            (cancel)="onCancelModal('modal-reactivar-agente')">
        </app-agente-reactivar>
    </div>
</jw-modal>