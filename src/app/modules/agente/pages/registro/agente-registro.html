<plex-layout main="8">
    <plex-layout-main>
        <header>
            <section class="d-flex flex-row justify-content-between mb-2">
                <h5 class="align-self-center">
                    <strong>Agente |</strong>
                    {{ (agente?.id)? 'Edición de agente' : 'Alta de agente nuevo' }}
                </h5>
                <div class="d-flex flex-row justify-content-end">
                    <plex-button class="mx-2" label="Cancelar" type="danger" (click)="volverInicio()"></plex-button>
                    <plex-button label="Guardar Agente" type="success" (click)="saveAgente()"></plex-button>
                </div>
            </section>
        </header>
        <plex-tabs>
            <plex-tab label="DATOS PERSONALES">
                <div *ngIf="agente">
                    <agente-datos-basicos 
                        [agente]="agente"
                        (outputAgente)='onValueChangeAgente($event)'>
                    </agente-datos-basicos>
                </div>
            </plex-tab>
            <plex-tab label="DOMICILIO">
                <div *ngIf="direccion">
                    <agente-datos-direccion 
                        [direccion]="direccion"
                        (outputDireccion)='onValueChangeDireccion($event)'>
                    </agente-datos-direccion>
                </div>
            </plex-tab>
            <plex-tab label="CONTACTO">
                <div *ngIf="contactos">
                    <agente-datos-contacto 
                        [contactos]="contactos"
                        (outputContactos)='onValueChangeContactos($event)'>
                    </agente-datos-contacto>
                </div>
            </plex-tab>
            <plex-tab label="EDUCACIÓN">
                <div *ngIf="educacion">
                    <agente-datos-educacion 
                        [educacion]="educacion"
                        (outputEducacion)='onValueChangeEducacion($event)'>
                    </agente-datos-educacion>
                </div>
            </plex-tab>
            <plex-tab label="SITUACIÓN">
                <div *ngIf="situacion">
                    <agente-datos-situacion
                        [situacion]="situacion"
                        (outputSituacion)='onValueChangeSituacion($event)'>
                    </agente-datos-situacion>
                </div>
            </plex-tab>
            <plex-tab label="CARGO">
                <div *ngIf="cargo">
                    <agente-datos-cargo
                        [cargo]="cargo"
                        (outputCargo)='onValueChangeCargo($event)'>
                    </agente-datos-cargo>
                </div>
            </plex-tab>
            <plex-tab label="REGÍMENES">
                <div *ngIf="regimen">
                    <agente-datos-regimen
                        [regimen]="regimen"
                        (outputRegimen)='onValueChangeRegimen($event)'>
                    </agente-datos-regimen>
                </div>
            </plex-tab>
        </plex-tabs>
    </plex-layout-main>
    <plex-layout-sidebar type="invert">
        <app-agente-detalle *ngIf="agenteDetalle"
            [agente]="agenteDetalle"
            [foto]="agenteDetalle.foto"
            [direccion]="agenteDetalle.direccion"
            [contactos]="agenteDetalle.contactos"
            [educacion]="agenteDetalle.educacion"
            [situacion]="agenteDetalle.situacionLaboralActiva?.situacion">
        </app-agente-detalle>
    </plex-layout-sidebar>
</plex-layout>
